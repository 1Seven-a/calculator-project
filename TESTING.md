# 计算器项目测试文档

本文档详细说明了分布式计算器项目的测试策略、内容和运行方法。

## 测试策略

我们采用了单元测试来确保前后端代码的质量和正确性。测试策略包括：

1. **独立测试**：前端和后端测试可以独立运行，不依赖对方
2. **边界测试**：测试各种边界情况（如零值、负数、大数值）
3. **错误处理测试**：测试异常情况（如除以零）的正确处理

## 后端测试

### 测试技术

- 使用Go标准测试框架
- 采用表驱动测试方式，覆盖多种场景
- 测试文件：`backend/calculator_service_test.go`

### 测试内容

1. **加法测试**
   - 正数加法：`5 + 3 = 8`
   - 负数加法：`-5 + (-3) = -8`
   - 零值加法：`0 + 0 = 0`
   - 小数加法：`1.5 + 2.5 = 4`

2. **减法测试**
   - 正数减法：`5 - 3 = 2`
   - 负数减法：`-5 - (-3) = -2`
   - 零值减法：`0 - 0 = 0`
   - 小数减法：`4.5 - 2.5 = 2`

3. **乘法测试**
   - 正数乘法：`5 * 3 = 15`
   - 负数乘法：`-5 * (-3) = 15`
   - 零值乘法：`0 * 5 = 0`
   - 小数乘法：`1.5 * 2 = 3`

4. **除法测试**
   - 正数除法：`6 / 3 = 2`
   - 负数除法：`-6 / (-3) = 2`
   - 小数除法：`5 / 2 = 2.5`
   - 除以零错误处理：验证错误消息为"除数不能为零"

### 运行测试

```bash
cd backend
go test -v
```

## 前端测试

### 测试技术

- 测试框架：Jest
- UI测试库：React Testing Library
- 采用组件测试和交互测试相结合
- 测试文件：`frontend/calculator-client/__tests__/index.test.jsx`

### 测试内容

1. **UI渲染测试**
   - 测试计算器标题正确渲染
   
2. **用户输入测试**
   - 测试数字输入功能
   - 测试运算符选择功能
   
3. **计算功能测试**
   - 加法计算：`10 + 5 = 15`
   - 减法计算：`10 - 5 = 5`
   - 乘法计算：`10 * 5 = 50`
   - 除法计算：`10 / 5 = 2`
   - 除以零错误：测试错误信息显示

### 测试技巧

- 使用Jest mock功能模拟API调用
- 隔离测试，不依赖真实后端服务
- 测试用户交互和UI响应

### 运行测试

```bash
cd frontend/calculator-client
npm test
```

## 测试覆盖率

当前测试覆盖了所有主要功能点和边界情况：

- 后端：所有计算函数的正常和异常情况
- 前端：所有UI组件、用户交互和错误处理

## 未来测试计划

- 添加集成测试，测试前后端交互
- 添加端到端测试，模拟真实用户操作
- 自动化测试集成到CI/CD流程 